---
// AbsoluteSvg.astro
export type Props = {
  x?: number | string; // es: 120 oppure "2rem" oppure "10%"
  y?: number | string; // es: 80 oppure "1.5rem"
  width?: number | string; // es: 300 oppure "12rem" (se non passi nulla usa quello dell'svg)
  height?: number | string; // es: 300 oppure "12rem"
  zIndex?: number;
  rotateDeg?: number; // opzionale
  class?: string;
  style?: string;
  ariaLabel?: string;
};

const {
  x = 0,
  y = 0,
  width,
  height,
  zIndex = 1,
  rotateDeg = 0,
  class: className,
  style,
  ariaLabel = "Decorative SVG",
} = Astro.props;

const toCss = (v: number | string) => (typeof v === "number" ? `${v}px` : v);

const inlineStyle = [
  "position:absolute",
  `left:${toCss(x)}`,
  `top:${toCss(y)}`,
  `z-index:${zIndex}`,
  rotateDeg ? `transform:rotate(${rotateDeg}deg)` : "",
  width != null ? `width:${toCss(width)}` : "",
  height != null ? `height:${toCss(height)}` : "",
  style ?? "",
]
  .filter(Boolean)
  .join("; ");
---

<div class={className} style={inlineStyle} aria-label={ariaLabel} role="img">
  <!--?xml version="1.0" encoding="UTF-8"?-->
  <!--?xml version="1.0" encoding="UTF-8"?-->
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="225"
    height="225"
    viewBox="0 0 900 900"
    role="img"
    aria-label="Flat iPad illustration"
    preserveAspectRatio="xMidYMid meet"
  >
    <defs>
      <linearGradient id="bezelGrad" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0" stop-color="#1F2533"></stop>
        <stop offset="1" stop-color="#0E1220"></stop>
      </linearGradient>

      <linearGradient id="screenGrad" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0" stop-color="#F5F7FF"></stop>
        <stop offset="1" stop-color="#E9EEFF"></stop>
      </linearGradient>

      <linearGradient id="glassGrad" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0" stop-color="#FFFFFF" stop-opacity="0.55"></stop>
        <stop offset="0.45" stop-color="#FFFFFF" stop-opacity="0.12"></stop>
        <stop offset="1" stop-color="#FFFFFF" stop-opacity="0"></stop>
      </linearGradient>

      <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
        <feGaussianBlur in="SourceAlpha" stdDeviation="10" result="blur"
        ></feGaussianBlur>
        <feOffset dx="0" dy="14" result="off"></feOffset>
        <feColorMatrix
          in="off"
          type="matrix"
          values="0 0 0 0 0
                0 0 0 0 0
                0 0 0 0 0
                0 0 0 0.25 0"
          result="shadow"></feColorMatrix>
        <feMerge>
          <feMergeNode in="shadow"></feMergeNode>
          <feMergeNode in="SourceGraphic"></feMergeNode>
        </feMerge>
      </filter>

      <clipPath id="screenClip">
        <rect x="210" y="200" width="480" height="500" rx="34"></rect>
      </clipPath>
    </defs>

    <rect width="900" height="900" fill="none"></rect>

    <g filter="url(#softShadow)">
      <rect
        x="170"
        y="150"
        width="560"
        height="600"
        rx="60"
        fill="url(#bezelGrad)"></rect>
      <rect x="190" y="170" width="520" height="560" rx="50" fill="#151B2B"
      ></rect>
      <rect
        x="210"
        y="200"
        width="480"
        height="500"
        rx="34"
        fill="url(#screenGrad)"></rect>

      <circle cx="450" cy="185" r="6" fill="#0A0D18"></circle>
      <circle cx="450" cy="185" r="2.5" fill="#2A3350"></circle>

      <rect
        x="390"
        y="716"
        width="120"
        height="10"
        rx="5"
        fill="#0E1220"
        opacity="0.75"></rect>

      <g clip-path="url(#screenClip)">
        <path
          d="M230 330c70-110 190-130 280-70s120 190 30 260-240 110-320 10-60-140 10-200z"
          fill="#FFD7D8"
          opacity="0.9"></path>
        <path
          d="M250 560c80-70 170-70 240-20s80 140 0 190-210 70-270 0-40-110 30-170z"
          fill="#CFE8FF"
          opacity="0.95"></path>
        <path
          d="M510 240c60-50 120-45 155-10s35 95-20 135-130 55-165 10-20-85 30-135z"
          fill="#E6D9FF"
          opacity="0.95"></path>

        <g opacity="0.95">
          <rect x="250" y="250" width="78" height="78" rx="18" fill="#FFFFFF"
          ></rect>
          <rect x="344" y="250" width="78" height="78" rx="18" fill="#FFFFFF"
          ></rect>
          <rect x="438" y="250" width="78" height="78" rx="18" fill="#FFFFFF"
          ></rect>
          <rect x="532" y="250" width="78" height="78" rx="18" fill="#FFFFFF"
          ></rect>

          <circle cx="289" cy="289" r="16" fill="#1C2A4A"></circle>
          <path
            d="M375 274h30a12 12 0 0 1 12 12v30a12 12 0 0 1-12 12h-30a12 12 0 0 1-12-12v-30a12 12 0 0 1 12-12z"
            fill="#E45B66"></path>
          <path
            d="M457 312c10-20 35-30 55-20 20 10 25 35 15 50-10 15-35 20-55 5-20-15-25-25-15-35z"
            fill="#3B7DDD"></path>
          <path
            d="M566 312c0-18 14-32 32-32s32 14 32 32-14 32-32 32-32-14-32-32z"
            fill="#FFB84D"></path>
        </g>

        <g opacity="0.5">
          <rect x="255" y="360" width="300" height="12" rx="6" fill="#1C2A4A"
          ></rect>
          <rect x="255" y="386" width="240" height="10" rx="5" fill="#1C2A4A"
          ></rect>
          <rect x="255" y="408" width="270" height="10" rx="5" fill="#1C2A4A"
          ></rect>
        </g>

        <g>
          <rect x="255" y="455" width="170" height="44" rx="22" fill="#E45B66"
          ></rect>
          <circle cx="285" cy="477" r="8" fill="#FFFFFF" opacity="0.95"
          ></circle>
          <rect
            x="305"
            y="472"
            width="92"
            height="10"
            rx="5"
            fill="#FFFFFF"
            opacity="0.95"></rect>
        </g>

        <g opacity="0.9">
          <rect x="255" y="525" width="390" height="70" rx="22" fill="#FFFFFF"
          ></rect>
          <rect x="255" y="610" width="390" height="70" rx="22" fill="#FFFFFF"
          ></rect>

          <circle cx="290" cy="560" r="14" fill="#1C2A4A" opacity="0.9"
          ></circle>
          <rect
            x="315"
            y="548"
            width="220"
            height="10"
            rx="5"
            fill="#1C2A4A"
            opacity="0.35"></rect>
          <rect
            x="315"
            y="565"
            width="180"
            height="10"
            rx="5"
            fill="#1C2A4A"
            opacity="0.25"></rect>

          <circle cx="290" cy="645" r="14" fill="#3B7DDD" opacity="0.9"
          ></circle>
          <rect
            x="315"
            y="633"
            width="230"
            height="10"
            rx="5"
            fill="#1C2A4A"
            opacity="0.35"></rect>
          <rect
            x="315"
            y="650"
            width="160"
            height="10"
            rx="5"
            fill="#1C2A4A"
            opacity="0.25"></rect>
        </g>

        <path
          d="M215 210h220c-80 120-120 230-130 500H215z"
          fill="url(#glassGrad)"></path>
      </g>

      <path
        d="M220 170h420c25 0 45 20 45 45v25c-30-55-78-85-140-90H220z"
        fill="#FFFFFF"
        opacity="0.06"></path>
    </g>
  </svg>
</div>
