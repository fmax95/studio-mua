---
import SvgGreenAsterisk from "../SvgGreenAsterisk.astro";
import SvgCirclePinkLogo from "../svg/SvgCirclePinkLogo.astro";

// Locale & translations, following app pattern
const currentLocale = Astro.currentLocale || "it";
const translations = await import(`../../i18n/${currentLocale}.json`);
const t = translations.default;
---

<div class="header">
  <div class="header-content">
    <SvgGreenAsterisk x="80%" y="40%" rotateDeg={15} zIndex={1} width="100px" />
    <SvgCirclePinkLogo x="70%" y="103%" zIndex={1} width="100px" />
    <h3 class="intro-title">{t.homeHeader.introTitle}</h3>
    <h1 class="header-title">
      {t.homeHeader.headerTitle}
    </h1>
    <p class="header-subtitle">{t.homeHeader.subtitle}</p>
  </div>
  <div class="white-bend">
    <div class="message-loop">
      <div class="loop-content">
        <span> Marketing is thinking, not just posting.</span>
        <span> Marketing is thinking, not just posting.</span>
        <span> Marketing is thinking, not just posting.</span>
      </div>
    </div>
  </div>
</div>

<style>
  .header {
  }

  .blue-bend {
    height: 80px;
    background-color: var(--blue);
  }

  .white-bend {
    width: 100%;
    /* height: 50px; */
    background-color: var(--yellow);
  }

  .header-content {
    position: relative;
    padding: 80px 40px;
    text-align: center;
    max-width: 1000px;
    margin: 0 auto;
  }

  .intro-title {
    color: var(--brown);
    position: relative;
    z-index: 2;
    margin-bottom: 20px;
    font-style: italic;
  }

  .header-title {
    color: var(--brown);
    position: relative;
    z-index: 2;
    margin-bottom: 20px;
  }

  .header-subtitle {
    color: var(--brown);
    position: relative;
    z-index: 2;
  }
</style>
<style>
  .message-loop {
    font-size: clamp(1rem, 3vw, 1.5rem);
    font-weight: 600;
    background-color: var(--yellow) !important;
    color: var(--brown);
    padding: 15px 0;
    overflow: hidden;
    white-space: nowrap;
    position: relative;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
  }

  .loop-content {
    display: inline-block;
    animation: scroll 25s linear infinite;
  }

  .loop-content span {
    display: inline-block;
    padding: 0 50px;
  }

  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-33.333%);
    }
  }

  .message-loop h3 {
    margin: 0;
    font-size: inherit;
    font-weight: inherit;
  }

  @media (max-width: 720px) {
    .message-loop {
      padding: 12px 0;
    }
  }

  @media (max-width: 480px) {
    /* nessuna regola specifica per message-loop in mobile qui */
  }
  .message-loop {
    font-size: clamp(1rem, 3vw, 1.5rem);
    font-weight: 600;
    background-color: var(--white);
    color: var(--brown);
    padding: 15px 0;
    overflow: hidden;
    white-space: nowrap;
    position: relative;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
  }

  .loop-content {
    display: inline-block;
    animation: scroll 25s linear infinite;
  }

  .loop-content span {
    display: inline-block;
    padding: 0 50px;
  }

  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-33.333%);
    }
  }

  .message-loop h3 {
    margin: 0;
    font-size: inherit;
    font-weight: inherit;
  }

  @media (max-width: 720px) {
    .message-loop {
      padding: 12px 0;
    }
  }

  @media (max-width: 480px) {
    /* nessuna regola specifica per message-loop in mobile qui */
  }
</style>
